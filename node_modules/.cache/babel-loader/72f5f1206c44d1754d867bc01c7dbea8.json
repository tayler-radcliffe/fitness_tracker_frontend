{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nexport function storeLoginToken(token) {\n  localStorage.setItem('token', JSON.stringify(token));\n}\nexport function getCurrentToken() {\n  const token = localStorage.getItem('token');\n  return token;\n}\nexport function clearCurrentToken() {\n  localStorage.removeItem('token');\n}\nexport const fetchRoutines = async () => {\n  const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const data = await response.json();\n  return data;\n};\nexport const fetchUserRoutines = async () => {\n  _s();\n\n  const [username, setUsername] = useState('');\n  useEffect(() => {\n    Promise.all([fetchUsername()]).then(([data]) => {\n      setUsername(data.username);\n    });\n  }, []);\n  const token = localStorage.getItem('token');\n  const response = await fetch(`https://fitnesstrac-kr.herokuapp.com/api/users/${username}/routines`, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  const data = await response.json();\n  return data;\n};\n\n_s(fetchUserRoutines, \"vvPqiwmcocEAjsjiwnE6bJ+J4Yk=\");\n\nexport const fetchActivities = async () => {\n  const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/activities', {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const data = await response.json();\n  return data;\n};\nexport const fetchUsername = async () => {\n  const token = localStorage.getItem('token');\n  const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/users/me', {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  const data = await response.json();\n  console.log(data);\n  return data;\n};\nexport const createRoutine = async ({\n  routineName,\n  routineGoal,\n  isPublic\n}) => {\n  const token = localStorage.getItem('token');\n  await fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      name: routineName,\n      goal: routineGoal,\n      isPublic: isPublic\n    })\n  }).then(response => response.json()).then(result => {\n    console.log(result);\n  }).catch(console.error);\n};","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/api/index.js"],"names":["useEffect","useState","storeLoginToken","token","localStorage","setItem","JSON","stringify","getCurrentToken","getItem","clearCurrentToken","removeItem","fetchRoutines","response","fetch","headers","data","json","fetchUserRoutines","username","setUsername","Promise","all","fetchUsername","then","fetchActivities","console","log","createRoutine","routineName","routineGoal","isPublic","method","body","name","goal","result","catch","error"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport function storeLoginToken(token) {\n    localStorage.setItem('token', JSON.stringify(token));\n  }\n  \n  export function getCurrentToken() {\n    const token = localStorage.getItem('token');\n    return token;\n  }\n  \n  export function clearCurrentToken() {\n    localStorage.removeItem('token');\n  }\n\n\nexport const fetchRoutines = async () => {\n  const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n  const data = await response.json();\n\n  return data;\n}\n\nexport const fetchUserRoutines = async () => {\n\n  const [username, setUsername] = useState('');\n\n  useEffect(() => {\n    Promise.all([fetchUsername()]).then(([data]) => {\n      setUsername(data.username);\n    });\n  }, [])\n\n    const token = localStorage.getItem('token');\n\n    const response = await fetch(`https://fitnesstrac-kr.herokuapp.com/api/users/${username}/routines`, {\n       headers: {\n         'Content-Type': 'application/json',\n         'Authorization': `Bearer ${token}`\n         },\n     });\n     const data = await response.json();\n     return data;\n }\n\n\nexport const fetchActivities = async () => {\n  const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/activities', {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n  const data = await response.json();\n\n  return data;\n}\n\n\nexport const fetchUsername = async () => {\n  const token = localStorage.getItem('token');\n\n    const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/users/me', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n    })\n    const data = await response.json();\n    console.log(data);\n\n    return data;\n}\n\n\n\nexport const createRoutine = async ({routineName, routineGoal, isPublic}) => {\n  const token = localStorage.getItem('token');\n\n  await fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\n      method: \"POST\",\n      headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n      body: JSON.stringify({\n          name: routineName,\n          goal: routineGoal,\n          isPublic: isPublic\n    })\n  }).then(response => response.json())\n  .then(result => {\n      console.log(result);\n  })\n  .catch(console.error);\n}\n\n\n"]},"metadata":{},"sourceType":"module"}