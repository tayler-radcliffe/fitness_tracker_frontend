{"ast":null,"code":"import _regeneratorRuntime from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{ControlCameraOutlined}from\"@material-ui/icons\";import{useState}from\"react\";export function storeLoginToken(token){localStorage.setItem('token',JSON.stringify(token));}export function getCurrentToken(){var token=JSON.parse(localStorage.getItem('token'));return token;}export function clearCurrentToken(){localStorage.removeItem('token');}export var fetchRoutines=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://fitnesstrac-kr.herokuapp.com/api/routines',{headers:{'Content-Type':'application/json'}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchRoutines(){return _ref.apply(this,arguments);};}();export var fetchUserRoutines=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(user){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"http://fitnesstrac-kr.herokuapp.com/api/users/taylerann/routines\",{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(getCurrentToken())}});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;return _context2.abrupt(\"return\",data);case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);throw _context2.t0;case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function fetchUserRoutines(_x){return _ref2.apply(this,arguments);};}();export var fetchActivites=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch('http://fitnesstrac-kr.herokuapp.com/api/activities',{headers:{'Content-Type':'application/json'}});case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:data=_context3.sent;return _context3.abrupt(\"return\",data);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchActivites(){return _ref3.apply(this,arguments);};}();export var fetchUsername=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var response,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch('http://fitnesstrac-kr.herokuapp.com/api/users/me',{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(getCurrentToken())}});case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:data=_context4.sent;return _context4.abrupt(\"return\",data);case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function fetchUsername(){return _ref4.apply(this,arguments);};}();export var createRoutine=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(_ref5){var routineName,routineGoal,isPublic;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:routineName=_ref5.routineName,routineGoal=_ref5.routineGoal,isPublic=_ref5.isPublic;_context5.next=3;return fetch('http://fitnesstrac-kr.herokuapp.com/api/routines',{method:\"POST\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(getCurrentToken())},body:JSON.stringify({name:routineName,goal:routineGoal,isPublic:isPublic})}).then(function(response){return response.json();}).then(function(result){console.log(result);}).catch(console.error);case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function createRoutine(_x2){return _ref6.apply(this,arguments);};}();","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/api/index.js"],"names":["ControlCameraOutlined","useState","storeLoginToken","token","localStorage","setItem","JSON","stringify","getCurrentToken","parse","getItem","clearCurrentToken","removeItem","fetchRoutines","fetch","headers","response","json","data","fetchUserRoutines","user","fetchActivites","fetchUsername","createRoutine","routineName","routineGoal","isPublic","method","body","name","goal","then","result","console","log","catch","error"],"mappings":"mOAAA,OAASA,qBAAT,KAAsC,oBAAtC,CACA,OAASC,QAAT,KAAyB,OAAzB,CAEA,MAAO,SAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CACnCC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BC,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAA9B,EACD,CAED,MAAO,SAASK,CAAAA,eAAT,EAA2B,CAChC,GAAML,CAAAA,KAAK,CAAGG,IAAI,CAACG,KAAL,CAAWL,YAAY,CAACM,OAAb,CAAqB,OAArB,CAAX,CAAd,CACA,MAAOP,CAAAA,KAAP,CACD,CAED,MAAO,SAASQ,CAAAA,iBAAT,EAA6B,CAClCP,YAAY,CAACQ,UAAb,CAAwB,OAAxB,EACD,CAGH,MAAO,IAAMC,CAAAA,aAAa,0FAAG,2KACJC,CAAAA,KAAK,CAAC,kDAAD,CAAqD,CAC/EC,OAAO,CAAE,CACP,eAAgB,kBADT,CADsE,CAArD,CADD,QACrBC,QADqB,qCAMRA,CAAAA,QAAQ,CAACC,IAAT,EANQ,QAMrBC,IANqB,+CAQpBA,IARoB,wDAAH,kBAAbL,CAAAA,aAAa,0CAAnB,CAWP,MAAO,IAAMM,CAAAA,iBAAiB,2FAAG,kBAAOC,IAAP,gLAELN,CAAAA,KAAK,oEAAqE,CAC/FC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEP,iCAA2BP,eAAe,EAA1C,CAFO,CADsF,CAArE,CAFA,QAEtBQ,QAFsB,uCAQTA,CAAAA,QAAQ,CAACC,IAAT,EARS,QAQtBC,IARsB,iDASrBA,IATqB,yJAAH,kBAAjBC,CAAAA,iBAAiB,6CAAvB,CAgBP,MAAO,IAAME,CAAAA,cAAc,2FAAG,iLACLP,CAAAA,KAAK,CAAC,oDAAD,CAAuD,CACjFC,OAAO,CAAE,CACP,eAAgB,kBADT,CADwE,CAAvD,CADA,QACtBC,QADsB,uCAMTA,CAAAA,QAAQ,CAACC,IAAT,EANS,QAMtBC,IANsB,iDAQrBA,IARqB,0DAAH,kBAAdG,CAAAA,cAAc,2CAApB,CAYP,MAAO,IAAMC,CAAAA,aAAa,2FAAG,iLACFR,CAAAA,KAAK,CAAC,kDAAD,CAAqD,CAC/EC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEP,iCAA2BP,eAAe,EAA1C,CAFO,CADsE,CAArD,CADH,QACnBQ,QADmB,uCAONA,CAAAA,QAAQ,CAACC,IAAT,EAPM,QAOnBC,IAPmB,iDASlBA,IATkB,0DAAH,kBAAbI,CAAAA,aAAa,2CAAnB,CAcP,MAAO,IAAMC,CAAAA,aAAa,2FAAG,kLAAQC,WAAR,OAAQA,WAAR,CAAqBC,WAArB,OAAqBA,WAArB,CAAkCC,QAAlC,OAAkCA,QAAlC,wBACrBZ,CAAAA,KAAK,CAAC,kDAAD,CAAqD,CAC5Da,MAAM,CAAE,MADoD,CAE5DZ,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,iCAA2BP,eAAe,EAA1C,CAFK,CAFmD,CAM5DoB,IAAI,CAAEtB,IAAI,CAACC,SAAL,CAAe,CACjBsB,IAAI,CAAEL,WADW,CAEjBM,IAAI,CAAEL,WAFW,CAGjBC,QAAQ,CAAEA,QAHO,CAAf,CANsD,CAArD,CAAL,CAWHK,IAXG,CAWE,SAAAf,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAXV,EAYLc,IAZK,CAYA,SAAAC,MAAM,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACH,CAdK,EAeLG,KAfK,CAeCF,OAAO,CAACG,KAfT,CADqB,yDAAH,kBAAbb,CAAAA,aAAa,8CAAnB","sourcesContent":["import { ControlCameraOutlined } from \"@material-ui/icons\";\nimport { useState } from \"react\";\n\nexport function storeLoginToken(token) {\n    localStorage.setItem('token', JSON.stringify(token));\n  }\n  \n  export function getCurrentToken() {\n    const token = JSON.parse(localStorage.getItem('token'));\n    return token;\n  }\n  \n  export function clearCurrentToken() {\n    localStorage.removeItem('token');\n  }\n\n\nexport const fetchRoutines = async () => {\n  const response = await fetch('http://fitnesstrac-kr.herokuapp.com/api/routines', {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n  const data = await response.json();\n\n  return data;\n}\n\nexport const fetchUserRoutines = async (user) => {\n  try{\n     const response = await fetch(`http://fitnesstrac-kr.herokuapp.com/api/users/taylerann/routines`, {\n       headers: {\n         'Content-Type': 'application/json',\n         'Authorization': `Bearer ${getCurrentToken()}`\n         },\n     });\n     const data = await response.json();\n     return data;\n } catch (error) {\n   throw error;\n }\n}\n\n\nexport const fetchActivites = async () => {\n  const response = await fetch('http://fitnesstrac-kr.herokuapp.com/api/activities', {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n  const data = await response.json();\n\n  return data;\n}\n\n\nexport const fetchUsername = async () => {\n    const response = await fetch('http://fitnesstrac-kr.herokuapp.com/api/users/me', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${getCurrentToken()}`\n      },\n    })\n    const data = await response.json();\n\n    return data;\n}\n\n\n\nexport const createRoutine = async ({routineName, routineGoal, isPublic}) => {\n  await fetch('http://fitnesstrac-kr.herokuapp.com/api/routines', {\n      method: \"POST\",\n      headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${getCurrentToken()}`\n        },\n      body: JSON.stringify({\n          name: routineName,\n          goal: routineGoal,\n          isPublic: isPublic\n    })\n  }).then(response => response.json())\n  .then(result => {\n      console.log(result);\n  })\n  .catch(console.error);\n}\n\n\n"]},"metadata":{},"sourceType":"module"}