{"ast":null,"code":"import _defineProperty from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{fetchUsername,getCurrentToken}from'../api';import ActivityForm from'./ActivityForm';import Button from'@material-ui/core/Button';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function MyActivity(props){var activity=props.activity;var activityId=activity.routineActivityId;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),routines=_useState4[0],setRoutines=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setIsOpen=_useState6[1];var openForm=function openForm(){if(open===false){setIsOpen(true);}else{setIsOpen(false);}};var handleDelete=function handleDelete(){fetch(\"https://fitnesstrac-kr.herokuapp.com/api/routine_activities/\".concat(activityId),{method:\"DELETE\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(getCurrentToken())}}).then(function(response){return response.json();}).then(function(result){console.log(result);alert('Your activity has been deleted.');}).catch(console.error);};useEffect(function(){Promise.all([fetchUsername()]).then(function(_ref){var _ref2=_slicedToArray(_ref,1),data=_ref2[0];setCurrentUser(data);});},[]);if(getCurrentToken()){var _jsx2,_jsx3;return/*#__PURE__*/_jsxs(\"div\",{class:\"activity-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Name: \",activity.name]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Description: \",activity.description]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Duration: \",activity.duration]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Count: \",activity.count]}),/*#__PURE__*/_jsx(Button,(_jsx2={className:\"routine-button\",onClick:openForm},_defineProperty(_jsx2,\"className\",\"editbutton\"),_defineProperty(_jsx2,\"color\",\"secondary\"),_defineProperty(_jsx2,\"variant\",\"contained\"),_defineProperty(_jsx2,\"children\",open?'Hide':'Update Activity'),_jsx2)),/*#__PURE__*/_jsx(ActivityForm,{id:\"activityform\",activity:activity,open:open}),/*#__PURE__*/_jsx(Button,(_jsx3={className:\"routine-button\",onClick:handleDelete},_defineProperty(_jsx3,\"className\",\"editbutton\"),_defineProperty(_jsx3,\"color\",\"secondary\"),_defineProperty(_jsx3,\"variant\",\"contained\"),_defineProperty(_jsx3,\"children\",\"Delete Activity\"),_jsx3))]});}}","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/components/MyActivity.js"],"names":["React","useState","useEffect","fetchUsername","getCurrentToken","ActivityForm","Button","MyActivity","props","activity","activityId","routineActivityId","currentUser","setCurrentUser","routines","setRoutines","open","setIsOpen","openForm","handleDelete","fetch","method","headers","then","response","json","result","console","log","alert","catch","error","Promise","all","data","name","description","duration","count"],"mappings":"wOAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,aAAT,CAAwBC,eAAxB,KAA+C,QAA/C,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,C,wFAEA,cAAe,SAASC,CAAAA,UAAT,CAAqBC,KAArB,CAA4B,IAEnCC,CAAAA,QAFmC,CAGnCD,KAHmC,CAEnCC,QAFmC,CAKvC,GAAMC,CAAAA,UAAU,CAAGD,QAAQ,CAACE,iBAA5B,CALuC,cAODV,QAAQ,CAAC,EAAD,CAPP,wCAOhCW,WAPgC,eAOnBC,cAPmB,8BAQPZ,QAAQ,CAAC,EAAD,CARD,yCAQhCa,QARgC,eAQtBC,WARsB,8BASbd,QAAQ,CAAC,KAAD,CATK,yCAShCe,IATgC,eAS1BC,SAT0B,eAWvC,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,GAAIF,IAAI,GAAK,KAAb,CAAmB,CACdC,SAAS,CAAC,IAAD,CAAT,CAAiB,CADtB,IAEK,CACDA,SAAS,CAAC,KAAD,CAAT,CACH,CACJ,CAND,CAQA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBC,KAAK,uEAAgEV,UAAhE,EAA8E,CAC/EW,MAAM,CAAE,QADuE,CAE/EC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,iCAA2BlB,eAAe,EAA1C,CAFK,CAFsE,CAA9E,CAAL,CAMGmB,IANH,CAMQ,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EANhB,EAOCF,IAPD,CAOM,SAAAG,MAAM,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACAG,KAAK,CAAC,iCAAD,CAAL,CACH,CAVD,EAWCC,KAXD,CAWOH,OAAO,CAACI,KAXf,EAYH,CAbD,CAeA7B,SAAS,CAAC,UAAM,CACZ8B,OAAO,CAACC,GAAR,CAAY,CAAC9B,aAAa,EAAd,CAAZ,EAA+BoB,IAA/B,CAAoC,cAAY,kCAAVW,IAAU,UAC5CrB,cAAc,CAACqB,IAAD,CAAd,CACD,CAFH,EAGH,CAJQ,CAIN,EAJM,CAAT,CAOA,GAAG9B,eAAe,EAAlB,CAAsB,iBACtB,mBACI,aAAK,KAAK,CAAC,eAAX,wBACI,+BAAWK,QAAQ,CAAC0B,IAApB,GADJ,cAEI,sCAAkB1B,QAAQ,CAAC2B,WAA3B,GAFJ,cAGI,mCAAe3B,QAAQ,CAAC4B,QAAxB,GAHJ,cAII,gCAAY5B,QAAQ,CAAC6B,KAArB,GAJJ,cAKI,KAAC,MAAD,SACI,SAAS,CAAC,gBADd,CAEI,OAAO,CAAEpB,QAFb,oCAGc,YAHd,gCAIU,WAJV,kCAKY,WALZ,mCAK0BF,IAAI,CAAG,MAAH,CAAY,iBAL1C,SALJ,cAWQ,KAAC,YAAD,EAAc,EAAE,CAAC,cAAjB,CAAgC,QAAQ,CAAEP,QAA1C,CAAoD,IAAI,CAAEO,IAA1D,EAXR,cAYI,KAAC,MAAD,SACI,SAAS,CAAC,gBADd,CAEI,OAAO,CAAEG,YAFb,oCAGc,YAHd,gCAIU,WAJV,kCAKY,WALZ,6DAZJ,GADJ,CAsBC,CACJ","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { fetchUsername, getCurrentToken } from '../api';\nimport ActivityForm from './ActivityForm';\nimport Button from '@material-ui/core/Button';\n\nexport default function MyActivity (props) {\n    const {\n        activity\n    } = props;\n\n    const activityId = activity.routineActivityId;\n\n    const [currentUser, setCurrentUser] = useState('');\n    const [routines, setRoutines] = useState([]);\n    const [open, setIsOpen] = useState(false);\n\n    const openForm = () => {\n        if (open === false){\n             setIsOpen(true);}\n        else {\n            setIsOpen(false)\n        }\n    }\n\n    const handleDelete = () => {\n        fetch(`https://fitnesstrac-kr.herokuapp.com/api/routine_activities/${activityId}`, {\n            method: \"DELETE\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${getCurrentToken()}`\n            }\n        }).then(response => response.json())\n        .then(result => {\n            console.log(result);\n            alert('Your activity has been deleted.')\n        })\n        .catch(console.error);\n    }\n\n    useEffect(() => {\n        Promise.all([fetchUsername()]).then(([data]) => {\n            setCurrentUser(data);\n          });\n    }, []);\n\n    \n    if(getCurrentToken()) {\n    return (\n        <div class=\"activity-card\">\n            <h4>Name: {activity.name}</h4>\n            <h4>Description: {activity.description}</h4>\n            <h4>Duration: {activity.duration}</h4>\n            <h4>Count: {activity.count}</h4>\n            <Button \n                className='routine-button'\n                onClick={openForm}\n                className='editbutton'\n                color='secondary'\n                variant=\"contained\" >{open ? 'Hide' : 'Update Activity'}</Button>\n                <ActivityForm id='activityform' activity={activity} open={open}/>\n            <Button \n                className='routine-button'\n                onClick={handleDelete}\n                className='editbutton'\n                color='secondary'\n                variant=\"contained\">Delete Activity</Button>\n        </div>\n        )\n\n    } \n}\n"]},"metadata":{},"sourceType":"module"}