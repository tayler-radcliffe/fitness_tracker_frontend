{"ast":null,"code":"import _regeneratorRuntime from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{getCurrentToken}from'../api';import Button from'@material-ui/core/Button';import TextField from'@material-ui/core/TextField';import Checkbox from'@material-ui/core/Checkbox';import'./style.css';import FormControl from'@material-ui/core/FormControl';import{makeStyles}from'@material-ui/core/styles';import{createRoutine}from'../api';import{createActivity}from'./Activities';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ActivityForm=function ActivityForm(_ref){var activity=_ref.activity,open=_ref.open;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),duration=_useState4[0],setDuration=_useState4[1];var activityId=activity.routineActivityId;var updateActivity=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2){var count,duration;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:count=_ref2.count,duration=_ref2.duration;_context.next=3;return fetch(\"https://fitnesstrac-kr.herokuapp.com/api/routine_activities/\".concat(activityId),{method:\"PATCH\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(getCurrentToken())},body:JSON.stringify({count:count,duration:duration})}).then(function(response){return response.json();}).then(function(result){console.log(result);}).catch(console.error);case 3:case\"end\":return _context.stop();}}},_callee);}));return function updateActivity(_x){return _ref3.apply(this,arguments);};}();var useStyles=makeStyles(function(theme){return{container:{display:'flex',flexWrap:'wrap',position:'relative',margin:'10px'},formControl:{margin:theme.spacing(2),minWidth:120},textFields:{width:'350px',margin:theme.spacing(2)}};});var classes=useStyles();if(open===true){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FormControl,{className:classes.container,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();updateActivity({count:count,duration:duration});alert('Activity has been updated.');},children:[/*#__PURE__*/_jsx(TextField,{label:\"Duration\",variant:\"outlined\",size:\"small\",onChange:function onChange(e){return setDuration(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{label:\"Count\",size:\"small\",variant:\"outlined\",onChange:function onChange(e){return setCount(e.target.value);}}),/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"contained\",type:\"submit\",children:\"Update Activity\"})]})})});}else return/*#__PURE__*/_jsx(\"div\",{});};export default ActivityForm;","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/components/ActivityForm.js"],"names":["React","useState","getCurrentToken","Button","TextField","Checkbox","FormControl","makeStyles","createRoutine","createActivity","ActivityForm","activity","open","count","setCount","duration","setDuration","activityId","routineActivityId","updateActivity","fetch","method","headers","body","JSON","stringify","then","response","json","result","console","log","catch","error","useStyles","theme","container","display","flexWrap","position","margin","formControl","spacing","minWidth","textFields","width","classes","e","preventDefault","alert","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { getCurrentToken } from '../api';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport './style.css';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { createRoutine } from '../api';\nimport { createActivity } from './Activities'\n\nconst ActivityForm = ({activity, open}) => {\n\n    const [count, setCount] = useState('');\n    const [duration, setDuration] = useState('');\n\nconst activityId = activity.routineActivityId;\n\n\nconst updateActivity = async ({count, duration}) => {\n    await fetch(`https://fitnesstrac-kr.herokuapp.com/api/routine_activities/${activityId}`, {\n        method: \"PATCH\",\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${getCurrentToken()}`\n          },\n        body: JSON.stringify({\n            count: count,\n            duration: duration\n        })\n    }).then(response => response.json())\n    .then(result => {\n        console.log(result);\n    })\n    .catch(console.error);\n    }\n\n    const useStyles = makeStyles((theme) => ({\n        container: {\n          display: 'flex',\n          flexWrap: 'wrap',\n          position: 'relative',\n          margin: '10px'\n        },\n        formControl: {\n          margin: theme.spacing(2),\n          minWidth: 120,\n        },\n        textFields: {\n            width: '350px',\n            margin: theme.spacing(2)\n          },\n      }));\n  \n      const classes = useStyles();\n\nif(open === true) {\n    return (\n        <div>\n        <FormControl className={classes.container}>  \n          <form onSubmit={e => {\n            e.preventDefault();\n            updateActivity({count, duration});\n            alert('Activity has been updated.');\n            \n\n        }} >\n        <TextField \n          label='Duration'\n          variant=\"outlined\" \n          size='small'\n          onChange={(e) => setDuration(e.target.value)}/>\n        <TextField \n          label='Count'\n          size='small'\n          variant=\"outlined\" \n          onChange={(e) => setCount(e.target.value)}/>\n        \n          <Button \n            color='primary'\n            variant=\"contained\"\n            type='submit'>Update Activity</Button>\n          </form>\n        </FormControl>\n        </div>\n    )}\n    else return <div></div>;\n}\n\nexport default ActivityForm;"]},"metadata":{},"sourceType":"module"}