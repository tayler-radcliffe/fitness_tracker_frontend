{"ast":null,"code":"import _regeneratorRuntime from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";export function storeLoginToken(token){localStorage.setItem('token',JSON.stringify(token));}export function getCurrentToken(){var token=localStorage.getItem('token');return token;}export function clearCurrentToken(){localStorage.removeItem('token');}export var fetchRoutines=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://fitnesstrac-kr.herokuapp.com/api/routines',{headers:{'Content-Type':'application/json'}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchRoutines(){return _ref.apply(this,arguments);};}();export var fetchUserRoutines=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(user){var token,response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;token=localStorage.getItem('token');_context2.next=4;return fetch(\"https://fitnesstrac-kr.herokuapp.com/api/users/taylerann/routines\",{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:data=_context2.sent;return _context2.abrupt(\"return\",data);case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);throw _context2.t0;case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function fetchUserRoutines(_x){return _ref2.apply(this,arguments);};}();export var fetchActivities=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch('https://fitnesstrac-kr.herokuapp.com/api/activities',{headers:{'Content-Type':'application/json'}});case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:data=_context3.sent;return _context3.abrupt(\"return\",data);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchActivities(){return _ref3.apply(this,arguments);};}();export var fetchUsername=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var token,response,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:token=localStorage.getItem('token');_context4.next=3;return fetch('https://fitnesstrac-kr.herokuapp.com/api/users/me',{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});case 3:response=_context4.sent;_context4.next=6;return response.json();case 6:data=_context4.sent;console.log(data);return _context4.abrupt(\"return\",data);case 9:case\"end\":return _context4.stop();}}},_callee4);}));return function fetchUsername(){return _ref4.apply(this,arguments);};}();export var createRoutine=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(_ref5){var routineName,routineGoal,isPublic,token;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:routineName=_ref5.routineName,routineGoal=_ref5.routineGoal,isPublic=_ref5.isPublic;token=localStorage.getItem('token');_context5.next=4;return fetch('https://fitnesstrac-kr.herokuapp.com/api/routines',{method:\"POST\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({name:routineName,goal:routineGoal,isPublic:isPublic})}).then(function(response){return response.json();}).then(function(result){console.log(result);}).catch(console.error);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function createRoutine(_x2){return _ref6.apply(this,arguments);};}();","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/api/index.js"],"names":["storeLoginToken","token","localStorage","setItem","JSON","stringify","getCurrentToken","getItem","clearCurrentToken","removeItem","fetchRoutines","fetch","headers","response","json","data","fetchUserRoutines","user","fetchActivities","fetchUsername","console","log","createRoutine","routineName","routineGoal","isPublic","method","body","name","goal","then","result","catch","error"],"mappings":"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","sourcesContent":["export function storeLoginToken(token) {\n    localStorage.setItem('token', JSON.stringify(token));\n  }\n  \n  export function getCurrentToken() {\n    const token = localStorage.getItem('token');\n    return token;\n  }\n  \n  export function clearCurrentToken() {\n    localStorage.removeItem('token');\n  }\n\n\nexport const fetchRoutines = async () => {\n  const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n  const data = await response.json();\n\n  return data;\n}\n\nexport const fetchUserRoutines = async (user) => {\n  try{\n    const token = localStorage.getItem('token');\n\n     const response = await fetch(`https://fitnesstrac-kr.herokuapp.com/api/users/taylerann/routines`, {\n       headers: {\n         'Content-Type': 'application/json',\n         'Authorization': `Bearer ${token}`\n         },\n     });\n     const data = await response.json();\n     return data;\n } catch (error) {\n   throw error;\n }\n}\n\n\nexport const fetchActivities = async () => {\n  const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/activities', {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n  const data = await response.json();\n\n  return data;\n}\n\n\nexport const fetchUsername = async () => {\n  const token = localStorage.getItem('token');\n\n    const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/users/me', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n    })\n    const data = await response.json();\n    console.log(data);\n\n    return data;\n}\n\n\n\nexport const createRoutine = async ({routineName, routineGoal, isPublic}) => {\n  const token = localStorage.getItem('token');\n\n  await fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\n      method: \"POST\",\n      headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n      body: JSON.stringify({\n          name: routineName,\n          goal: routineGoal,\n          isPublic: isPublic\n    })\n  }).then(response => response.json())\n  .then(result => {\n      console.log(result);\n  })\n  .catch(console.error);\n}\n\n\n"]},"metadata":{},"sourceType":"module"}