{"ast":null,"code":"import _defineProperty from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Button from'@material-ui/core/Button';import TextField from'@material-ui/core/TextField';import Checkbox from'@material-ui/core/Checkbox';import'./style.css';import{makeStyles}from'@material-ui/core/styles';import{fetchUserRoutines}from'../api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RoutineForm=function RoutineForm(_ref){var setIsOpen=_ref.setIsOpen,open=_ref.open,setMyRoutines=_ref.setMyRoutines,currentUser=_ref.currentUser;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),routineName=_useState2[0],setRoutineName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),routineGoal=_useState4[0],setRoutineGoal=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isPublic=_useState6[0],setIsPublic=_useState6[1];var useStyles=makeStyles(function(theme){return{container:{display:'flex',flexWrap:'wrap'},formControl:{margin:theme.spacing(2),minWidth:120},textFields:{width:'300px',margin:theme.spacing(1)}};});var classes=useStyles();var createRoutine=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2){var routineName,routineGoal,isPublic,token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:routineName=_ref2.routineName,routineGoal=_ref2.routineGoal,isPublic=_ref2.isPublic;token=localStorage.getItem('token');_context.next=4;return fetch('https://fitnesstrac-kr.herokuapp.com/api/routines',{method:\"POST\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({name:routineName,goal:routineGoal,isPublic:isPublic})}).then(function(response){return response.json();}).then(function(result){console.log(result);if(result.error){alert('Sorry, that routine already exists. Please try again.');}else{alert('Your routine has been created!');}}).catch(console.error);case 4:case\"end\":return _context.stop();}}},_callee);}));return function createRoutine(_x){return _ref3.apply(this,arguments);};}();if(open===true){var _jsx2;return/*#__PURE__*/_jsx(\"div\",{className:\"routineform\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();createRoutine({routineName:routineName,routineGoal:routineGoal,isPublic:isPublic});_context2.next=4;return fetchUserRoutines(currentUser);case 4:data=_context2.sent;setMyRoutines(data);setRoutineName('');setRoutineGoal('');setIsPublic(false);setIsOpen(false);case 10:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref4.apply(this,arguments);};}(),children:[/*#__PURE__*/_jsx(TextField,{className:classes.textFields,id:\"outlined-basic\",label:\"Name\",variant:\"outlined\",size:\"small\",required:true,onChange:function onChange(e){return setRoutineName(e.target.value);},value:routineName}),/*#__PURE__*/_jsx(TextField,{className:classes.textFields,id:\"outlined-basic\",label:\"Goal\",size:\"small\",variant:\"outlined\",required:true,onChange:function onChange(e){return setRoutineGoal(e.target.value);},value:routineGoal}),/*#__PURE__*/_jsx(\"label\",(_jsx2={className:\"label\"},_defineProperty(_jsx2,\"className\",classes.textFields),_defineProperty(_jsx2,\"children\",\"Allow others to see? \"),_jsx2)),/*#__PURE__*/_jsx(Checkbox,{type:\"checkbox\",size:\"small\",value:isPublic,color:\"primary\",onClick:function onClick(){return setIsPublic(true);}}),/*#__PURE__*/_jsx(Button,{className:classes.textFields,color:\"primary\",variant:\"contained\",type:\"submit\",children:\"Create Routine\"})]})});}else return/*#__PURE__*/_jsx(\"div\",{});};export default RoutineForm;","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/components/RoutineForm.js"],"names":["React","useState","Button","TextField","Checkbox","makeStyles","fetchUserRoutines","RoutineForm","setIsOpen","open","setMyRoutines","currentUser","routineName","setRoutineName","routineGoal","setRoutineGoal","isPublic","setIsPublic","useStyles","theme","container","display","flexWrap","formControl","margin","spacing","minWidth","textFields","width","classes","createRoutine","token","localStorage","getItem","fetch","method","headers","body","JSON","stringify","name","goal","then","response","json","result","console","log","error","alert","catch","e","preventDefault","data","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport './style.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fetchUserRoutines } from '../api';\n\n\nconst RoutineForm = ({setIsOpen, open, setMyRoutines, currentUser}) => {\n\n    const [routineName, setRoutineName] = useState('');\n    const [routineGoal, setRoutineGoal] = useState('');\n    const [isPublic, setIsPublic] = useState(false);\n\n\n    const useStyles = makeStyles((theme) => ({\n        container: {\n          display: 'flex',\n          flexWrap: 'wrap',\n        },\n        formControl: {\n          margin: theme.spacing(2),\n          minWidth: 120,\n        },\n        textFields: {\n            width: '300px',\n            margin: theme.spacing(1)\n          },\n      }));\n\n      const classes = useStyles();\n\n\n      \nconst createRoutine = async ({ routineName, routineGoal, isPublic }) => {\n  const token = localStorage.getItem('token');\n\n  await fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      name: routineName,\n      goal: routineGoal,\n      isPublic: isPublic\n    })\n  }).then(response => response.json())\n    .then(result => {\n      console.log(result);\n      if(result.error) {\n        alert('Sorry, that routine already exists. Please try again.')\n      } else {\n        alert('Your routine has been created!');\n      }\n    })\n    .catch(console.error);\n}\n\n\n\nif(open === true) {\n    return (\n      <div className='routineform'>\n        <form onSubmit={async (e) => {\n          e.preventDefault();\n          createRoutine({routineName, routineGoal, isPublic});\n          const data = await fetchUserRoutines(currentUser);\n          setMyRoutines(data);\n          setRoutineName('');\n          setRoutineGoal('');\n          setIsPublic(false);\n          setIsOpen(false);\n\n        }} >\n        <TextField \n          className={classes.textFields}\n          id=\"outlined-basic\" \n          label=\"Name\" \n          variant=\"outlined\" \n          size='small'\n          required onChange={(e) => setRoutineName(e.target.value)} \n          value={routineName}/>\n        <TextField \n         className={classes.textFields}\n          id=\"outlined-basic\" \n          label=\"Goal\" \n          size='small'\n          variant=\"outlined\" \n          required onChange={(e) => setRoutineGoal(e.target.value)} \n          value={routineGoal}/>\n          \n        <label className='label'\n        className={classes.textFields}>Allow others to see? </label>\n          <Checkbox\n            type='checkbox'\n            size='small' \n            value={isPublic}\n            color='primary' \n            onClick={() => setIsPublic(true)} />\n  \n          <Button className={classes.textFields}\n            color='primary'\n            variant=\"contained\"\n            type='submit'>Create Routine</Button>\n          </form>\n\n      </div>\n    )}\n    else return (\n        <div></div>\n    )\n  }\n\nexport default RoutineForm;"]},"metadata":{},"sourceType":"module"}