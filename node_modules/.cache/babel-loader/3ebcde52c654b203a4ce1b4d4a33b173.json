{"ast":null,"code":"import _slicedToArray from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useEffect,useState}from'react';import{fetchUsername,getCurrentToken,fetchUserRoutines}from'../api';import MyRoutine from'./MyRoutine';import Button from'@material-ui/core/Button';import RoutineForm from'./RoutineForm';import{makeStyles}from'@material-ui/core/styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyRoutines=function MyRoutines(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),myRoutines=_useState2[0],setMyRoutines=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),creator=_useState4[0],setCreator=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),currentUser=_useState6[0],setCurrentUser=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),open=_useState8[0],setIsOpen=_useState8[1];useEffect(function(){fetchUsername().then(function(data){return setCurrentUser(data.username);});fetchUserRoutines(currentUser).then(function(data){return setMyRoutines(data);});});var showForm=function showForm(){if(open===false){setIsOpen(true);}else{setIsOpen(false);}};var useStyles=makeStyles(function(theme){return{container:{display:'flex',flexWrap:'wrap',position:'relative',margin:'10px'},formControl:{margin:theme.spacing(2),minWidth:120},textFields:{width:'350px',margin:theme.spacing(2)}};});var classes=useStyles();if(getCurrentToken()){return/*#__PURE__*/_jsxs(\"div\",{className:\"routine-card\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Routines\"}),/*#__PURE__*/_jsx(Button,{className:classes.container,color:\"secondary\",variant:\"contained\",type:\"submit\",onClick:showForm,children:\"Create A New Routine\"}),/*#__PURE__*/_jsx(RoutineForm,{myRoutines:myRoutines,open:open}),myRoutines?myRoutines.map(function(routine,index){return/*#__PURE__*/_jsx(MyRoutine,{creator:creator,setCreator:setCreator,routine:routine},index);}):/*#__PURE__*/_jsx(\"h1\",{children:\"Use the form above to start creating routines.\"})]});}else return/*#__PURE__*/_jsx(\"div\",{className:\"myRoutines\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Please register or sign in to see your routines.\"})});};export default MyRoutines;","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/components/MyRoutines.js"],"names":["React","useEffect","useState","fetchUsername","getCurrentToken","fetchUserRoutines","MyRoutine","Button","RoutineForm","makeStyles","MyRoutines","myRoutines","setMyRoutines","creator","setCreator","currentUser","setCurrentUser","open","setIsOpen","then","data","username","showForm","useStyles","theme","container","display","flexWrap","position","margin","formControl","spacing","minWidth","textFields","width","classes","map","routine","index"],"mappings":"mHAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,aAAT,CAAwBC,eAAxB,CAAyCC,iBAAzC,KAAkE,QAAlE,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,OAASC,UAAT,KAA2B,0BAA3B,C,wFAGA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,eAEeR,QAAQ,CAAC,EAAD,CAFvB,wCAEdS,UAFc,eAEFC,aAFE,8BAGSV,QAAQ,CAAC,EAAD,CAHjB,yCAGdW,OAHc,eAGLC,UAHK,8BAIiBZ,QAAQ,CAAC,EAAD,CAJzB,yCAIda,WAJc,eAIDC,cAJC,8BAKKd,QAAQ,CAAC,KAAD,CALb,yCAKde,IALc,eAKRC,SALQ,eAOrBjB,SAAS,CAAC,UAAM,CACdE,aAAa,GACZgB,IADD,CACM,SAACC,IAAD,QAAUJ,CAAAA,cAAc,CAACI,IAAI,CAACC,QAAN,CAAxB,EADN,EAEAhB,iBAAiB,CAACU,WAAD,CAAjB,CACCI,IADD,CACM,SAACC,IAAD,QAAUR,CAAAA,aAAa,CAACQ,IAAD,CAAvB,EADN,EAED,CALQ,CAAT,CAQA,GAAME,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,GAAIL,IAAI,GAAK,KAAb,CAAmB,CACdC,SAAS,CAAC,IAAD,CAAT,CAAgB,CADrB,IAEK,CACDA,SAAS,CAAC,KAAD,CAAT,CACH,CACJ,CAND,CAQA,GAAMK,CAAAA,SAAS,CAAGd,UAAU,CAAC,SAACe,KAAD,QAAY,CACvCC,SAAS,CAAE,CACTC,OAAO,CAAE,MADA,CAETC,QAAQ,CAAE,MAFD,CAGTC,QAAQ,CAAE,UAHD,CAITC,MAAM,CAAE,MAJC,CAD4B,CAOvCC,WAAW,CAAE,CACXD,MAAM,CAAEL,KAAK,CAACO,OAAN,CAAc,CAAd,CADG,CAEXC,QAAQ,CAAE,GAFC,CAP0B,CAWvCC,UAAU,CAAE,CACRC,KAAK,CAAE,OADC,CAERL,MAAM,CAAEL,KAAK,CAACO,OAAN,CAAc,CAAd,CAFA,CAX2B,CAAZ,EAAD,CAA5B,CAiBA,GAAMI,CAAAA,OAAO,CAAGZ,SAAS,EAAzB,CAGF,GAAGnB,eAAe,EAAlB,CAAsB,CACpB,mBACA,aAAK,SAAS,CAAC,cAAf,wBACE,mCADF,cAEO,KAAC,MAAD,EAAQ,SAAS,CAAE+B,OAAO,CAACV,SAA3B,CACG,KAAK,CAAC,WADT,CAEG,OAAO,CAAC,WAFX,CAGG,IAAI,CAAC,QAHR,CAIG,OAAO,CAAEH,QAJZ,kCAFP,cAOY,KAAC,WAAD,EAAa,UAAU,CAAEX,UAAzB,CAAqC,IAAI,CAAEM,IAA3C,EAPZ,CAQSN,UAAU,CAAGA,UAAU,CAACyB,GAAX,CAAe,SAACC,OAAD,CAAUC,KAAV,qBAC7B,KAAC,SAAD,EACE,OAAO,CAAEzB,OADX,CAEE,UAAU,CAAEC,UAFd,CAGc,OAAO,CAAEuB,OAHvB,EAGOC,KAHP,CAD6B,EAAf,CAAH,cAKP,sEAbZ,GADA,CAgBE,CAjBJ,IAiBU,oBACF,YAAK,SAAS,CAAC,YAAf,uBACA,wEADA,EADE,CAKT,CAjEH,CAoEA,cAAe5B,CAAAA,UAAf","sourcesContent":["import React from 'react';\nimport { useEffect, useState } from 'react';\nimport { fetchUsername, getCurrentToken, fetchUserRoutines } from '../api';\nimport MyRoutine from './MyRoutine';\nimport Button from '@material-ui/core/Button';\nimport RoutineForm from './RoutineForm';\nimport { makeStyles } from '@material-ui/core/styles';\n\n\nconst MyRoutines = () => {\n  \n    const [myRoutines, setMyRoutines] = useState([]);\n    const [creator, setCreator] = useState('');\n    const [currentUser, setCurrentUser] = useState('');\n    const [open, setIsOpen] = useState(false);\n\n    useEffect(() => {\n      fetchUsername()\n      .then((data) => setCurrentUser(data.username))\n      fetchUserRoutines(currentUser)\n      .then((data) => setMyRoutines(data))\n    })\n\n   \n    const showForm = () => {\n        if (open === false){\n             setIsOpen(true)}\n        else {\n            setIsOpen(false)\n        }\n    }\n\n    const useStyles = makeStyles((theme) => ({\n      container: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        position: 'relative',\n        margin: '10px',\n      },\n      formControl: {\n        margin: theme.spacing(2),\n        minWidth: 120,\n      },\n      textFields: {\n          width: '350px',\n          margin: theme.spacing(2)\n        },\n    }));\n\n    const classes = useStyles();\n\n\n  if(getCurrentToken()) {\n    return (\n    <div className='routine-card'>\n      <h1>My Routines</h1>\n           <Button className={classes.container}\n              color=\"secondary\"\n              variant=\"contained\"\n              type=\"submit\"\n              onClick={showForm}>Create A New Routine</Button>\n                <RoutineForm myRoutines={myRoutines} open={open}/>\n            {myRoutines ? myRoutines.map((routine, index) => \n            <MyRoutine \n              creator={creator} \n              setCreator={setCreator} \n              key={index} routine={routine} />) \n              : <h1>Use the form above to start creating routines.</h1>}\n         </div>\n    )} else return (\n          <div className='myRoutines'>\n          <h1>Please register or sign in to see your routines.</h1>\n      </div>\n    )\n  }\n\n\nexport default MyRoutines;"]},"metadata":{},"sourceType":"module"}