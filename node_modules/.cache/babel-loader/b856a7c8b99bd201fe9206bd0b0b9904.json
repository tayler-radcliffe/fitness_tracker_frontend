{"ast":null,"code":"import _regeneratorRuntime from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState}from'react';import{getCurrentToken,fetchUserRoutines}from'../api';import Button from'@material-ui/core/Button';import TextField from'@material-ui/core/TextField';import'./style.css';import FormControl from'@material-ui/core/FormControl';import{makeStyles}from'@material-ui/core/styles';import{createActivity}from'./Activities';import Checkbox from'@material-ui/core/Checkbox';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateRoutineForm=function UpdateRoutineForm(_ref){var currentUser=_ref.currentUser,setMyRoutines=_ref.setMyRoutines,setIsRoutineOpen=_ref.setIsRoutineOpen,routineOpen=_ref.routineOpen,routine=_ref.routine;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),routineName=_useState2[0],setRoutineName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),routineGoal=_useState4[0],setRoutineGoal=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isPublic=_useState6[0],setIsPublic=_useState6[1];var updateRoutine=function updateRoutine(_ref2){var routineName=_ref2.routineName,routineGoal=_ref2.routineGoal,isPublic=_ref2.isPublic;fetch(\"http://fitnesstrac-kr.herokuapp.com/api/routines/\".concat(routine.id),{method:\"PATCH\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(getCurrentToken())},body:JSON.stringify({name:routineName,goal:routineGoal,isPublic:isPublic})}).then(function(response){return response.json();}).then(function(result){console.log(result);}).catch(console.error);};var useStyles=makeStyles(function(theme){return _defineProperty({container:{display:'flex',flexWrap:'wrap'},textFields:{width:'250px',margin:theme.spacing(1)}},\"textFields\",{width:'250px',margin:theme.spacing(1)});});var classes=useStyles();if(routineOpen===true){return/*#__PURE__*/_jsx(\"div\",{className:\"updateRoutineForm\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();updateRoutine({routineName:routineName,routineGoal:routineGoal});alert('Your routine has been updated!');// const data = await fetchUserRoutines(currentUser);\n// setMyRoutines(data);\nsetRoutineName('');setRoutineGoal('');setIsRoutineOpen(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref4.apply(this,arguments);};}(),children:[/*#__PURE__*/_jsx(TextField,{className:classes.textFields,onChange:function onChange(e){return setRoutineName(e.target.value);},value:routineName,size:\"small\",variant:\"outlined\",label:\"Name\"}),/*#__PURE__*/_jsx(TextField,{className:classes.textFields,onChange:function onChange(e){return setRoutineGoal(e.target.value);},label:\"Goal\",value:routineGoal,size:\"small\",variant:\"outlined\"}),/*#__PURE__*/_jsx(\"label\",{className:classes.textFields,children:\"Allow others to see? \"}),/*#__PURE__*/_jsx(Checkbox,{value:isPublic,type:\"checkbox\",color:\"primary\",onClick:function onClick(){if(isPublic===false){setIsPublic(true);}else{setIsPublic(false);}}}),/*#__PURE__*/_jsx(Button,{className:classes.textFields,type:\"submit\",color:\"primary\",variant:\"contained\",children:\"Update Routine\"})]})});}else return/*#__PURE__*/_jsx(\"div\",{});};export default UpdateRoutineForm;","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/components/UpdateRoutineForm.js"],"names":["React","useState","getCurrentToken","fetchUserRoutines","Button","TextField","FormControl","makeStyles","createActivity","Checkbox","UpdateRoutineForm","currentUser","setMyRoutines","setIsRoutineOpen","routineOpen","routine","routineName","setRoutineName","routineGoal","setRoutineGoal","isPublic","setIsPublic","updateRoutine","fetch","id","method","headers","body","JSON","stringify","name","goal","then","response","json","result","console","log","catch","error","useStyles","theme","container","display","flexWrap","textFields","width","margin","spacing","classes","e","preventDefault","alert","target","value"],"mappings":"2cAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,eAAT,CAA0BC,iBAA1B,KAAmD,QAAnD,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,OAASC,cAAT,KAA+B,cAA/B,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,C,wFAGA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,MAA0E,IAAxEC,CAAAA,WAAwE,MAAxEA,WAAwE,CAA3DC,aAA2D,MAA3DA,aAA2D,CAA5CC,gBAA4C,MAA5CA,gBAA4C,CAA1BC,WAA0B,MAA1BA,WAA0B,CAAbC,OAAa,MAAbA,OAAa,eAE1Dd,QAAQ,CAAC,EAAD,CAFkD,wCAEzFe,WAFyF,eAE5EC,cAF4E,8BAG1DhB,QAAQ,CAAC,EAAD,CAHkD,yCAGzFiB,WAHyF,eAG5EC,cAH4E,8BAIhElB,QAAQ,CAAC,KAAD,CAJwD,yCAIzFmB,QAJyF,eAI/EC,WAJ+E,eAMhG,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,OAA0C,IAAxCN,CAAAA,WAAwC,OAAxCA,WAAwC,CAA3BE,WAA2B,OAA3BA,WAA2B,CAAdE,QAAc,OAAdA,QAAc,CAC5DG,KAAK,4DAAqDR,OAAO,CAACS,EAA7D,EAAmE,CACpEC,MAAM,CAAE,OAD4D,CAEpEC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,iCAA2BxB,eAAe,EAA1C,CAFK,CAF2D,CAMpEyB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,IAAI,CAAEd,WADW,CAEjBe,IAAI,CAAEb,WAFW,CAGjBE,QAAQ,CAAEA,QAHO,CAAf,CAN8D,CAAnE,CAAL,CAWOY,IAXP,CAWY,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAXpB,EAYKF,IAZL,CAYU,SAAAG,MAAM,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACH,CAdL,EAeKG,KAfL,CAeWF,OAAO,CAACG,KAfnB,EAgBH,CAjBD,CAmBA,GAAMC,CAAAA,SAAS,CAAGjC,UAAU,CAAC,SAACkC,KAAD,0BAC3BC,SAAS,CAAE,CACTC,OAAO,CAAE,MADA,CAETC,QAAQ,CAAE,MAFD,CADgB,CAM3BC,UAAU,CAAE,CACRC,KAAK,CAAE,OADC,CAERC,MAAM,CAAEN,KAAK,CAACO,OAAN,CAAc,CAAd,CAFA,CANe,eAUb,CACVF,KAAK,CAAE,OADG,CAEVC,MAAM,CAAEN,KAAK,CAACO,OAAN,CAAc,CAAd,CAFE,CAVa,GAAD,CAA5B,CAgBA,GAAMC,CAAAA,OAAO,CAAGT,SAAS,EAAzB,CAGJ,GAAG1B,WAAW,GAAK,IAAnB,CAAyB,CACrB,mBACI,YAAK,SAAS,CAAC,mBAAf,uBACI,cAAM,QAAQ,2FAAE,iBAAOoC,CAAP,kHACdA,CAAC,CAACC,cAAF,GACA7B,aAAa,CAAC,CAACN,WAAW,CAAXA,WAAD,CAAcE,WAAW,CAAXA,WAAd,CAAD,CAAb,CACAkC,KAAK,CAAC,gCAAD,CAAL,CACA;AACA;AACAnC,cAAc,CAAC,EAAD,CAAd,CACAE,cAAc,CAAC,EAAD,CAAd,CACAN,gBAAgB,CAAC,KAAD,CAAhB,CARc,sDAAF,+DAAd,wBAWE,KAAC,SAAD,EAAW,SAAS,CAAEoC,OAAO,CAACJ,UAA9B,CACA,QAAQ,CAAE,kBAACK,CAAD,QAAOjC,CAAAA,cAAc,CAACiC,CAAC,CAACG,MAAF,CAASC,KAAV,CAArB,EADV,CAEA,KAAK,CAAEtC,WAFP,CAGA,IAAI,CAAC,OAHL,CAIA,OAAO,CAAC,UAJR,CAKA,KAAK,CAAC,MALN,EAXF,cAkBE,KAAC,SAAD,EAAW,SAAS,CAAEiC,OAAO,CAACJ,UAA9B,CACA,QAAQ,CAAE,kBAACK,CAAD,QAAO/B,CAAAA,cAAc,CAAC+B,CAAC,CAACG,MAAF,CAASC,KAAV,CAArB,EADV,CAEA,KAAK,CAAC,MAFN,CAGA,KAAK,CAAEpC,WAHP,CAIA,IAAI,CAAC,OAJL,CAKC,OAAO,CAAC,UALT,EAlBF,cAyBA,cAAO,SAAS,CAAE+B,OAAO,CAACJ,UAA1B,mCAzBA,cA0BE,KAAC,QAAD,EACA,KAAK,CAAEzB,QADP,CAEC,IAAI,CAAC,UAFN,CAGC,KAAK,CAAC,SAHP,CAGiB,OAAO,CAAE,kBAAM,CAC5B,GAAGA,QAAQ,GAAK,KAAhB,CAAsB,CAClBC,WAAW,CAAC,IAAD,CAAX,CAAkB,CADtB,IAES,CACLA,WAAW,CAAC,KAAD,CAAX,CAAmB,CAAC,CAP5B,EA1BF,cAkCE,KAAC,MAAD,EAAQ,SAAS,CAAE4B,OAAO,CAACJ,UAA3B,CACA,IAAI,CAAC,QADL,CAEA,KAAK,CAAC,SAFN,CAGA,OAAO,CAAC,WAHR,4BAlCF,GADJ,EADJ,CA0CE,CA3CN,IA4CS,oBAAO,cAAP,CACR,CAzFD,CA4FA,cAAenC,CAAAA,iBAAf","sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport { getCurrentToken, fetchUserRoutines } from '../api'\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport './style.css';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { createActivity } from './Activities';\nimport Checkbox from '@material-ui/core/Checkbox';\n\n\nconst UpdateRoutineForm = ({currentUser, setMyRoutines, setIsRoutineOpen, routineOpen, routine}) => {\n\n    const [routineName, setRoutineName] = useState('');\n    const [routineGoal, setRoutineGoal] = useState('');\n    const [isPublic, setIsPublic] = useState(false);\n\n    const updateRoutine = ({routineName, routineGoal, isPublic}) => {\n        fetch(`http://fitnesstrac-kr.herokuapp.com/api/routines/${routine.id}`, {\n            method: \"PATCH\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${getCurrentToken()}`\n              },\n            body: JSON.stringify({\n                name: routineName,\n                goal: routineGoal,\n                isPublic: isPublic\n            })\n            }).then(response => response.json())\n            .then(result => {\n                console.log(result);\n            })\n            .catch(console.error);\n    }\n\n    const useStyles = makeStyles((theme) => ({\n      container: {\n        display: 'flex',\n        flexWrap: 'wrap',\n\n      },\n      textFields: {\n          width: '250px',\n          margin: theme.spacing(1),\n        },\n        textFields: {\n          width: '250px',\n          margin: theme.spacing(1)\n        },\n    }));\n  \n    const classes = useStyles();\n    \n\nif(routineOpen === true) {\n    return (\n        <div className='updateRoutineForm'>\n            <form onSubmit={async (e) => {\n              e.preventDefault();\n              updateRoutine({routineName, routineGoal});\n              alert('Your routine has been updated!');\n              // const data = await fetchUserRoutines(currentUser);\n              // setMyRoutines(data);\n              setRoutineName('');\n              setRoutineGoal('');\n              setIsRoutineOpen(false);\n\n            }} >\n              <TextField className={classes.textFields}\n              onChange={(e) => setRoutineName(e.target.value)} \n              value={routineName} \n              size='small'\n              variant=\"outlined\"\n              label='Name' \n              />\n              <TextField className={classes.textFields}\n              onChange={(e) => setRoutineGoal(e.target.value)} \n              label='Goal'\n              value={routineGoal} \n              size='small'\n               variant=\"outlined\" />\n          \n            <label className={classes.textFields}>Allow others to see? </label>\n              <Checkbox \n              value={isPublic} \n               type='checkbox'\n               color='primary' onClick={() => {\n                  if(isPublic === false){\n                      setIsPublic(true)}\n                      else {\n                      setIsPublic(false)}}} />\n              <Button className={classes.textFields}\n              type='submit'\n              color='primary'\n              variant='contained'>Update Routine</Button>\n            </form>\n         </div>\n    )} \n    else return <div></div>;\n}\n\n\nexport default UpdateRoutineForm;"]},"metadata":{},"sourceType":"module"}