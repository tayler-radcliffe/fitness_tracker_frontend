{"ast":null,"code":"import _slicedToArray from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useEffect,useState}from'react';import{fetchUsername,getCurrentToken,fetchUserRoutines}from'../api';import MyRoutine from'./MyRoutine';import Button from'@material-ui/core/Button';import RoutineForm from'./RoutineForm';import{makeStyles}from'@material-ui/core/styles';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var MyRoutines=function MyRoutines(_ref){var currentUser=_ref.currentUser;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),myRoutines=_useState2[0],setMyRoutines=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),creator=_useState4[0],setCreator=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setIsOpen=_useState6[1];useEffect(function(){Promise.all([fetchUserRoutines(currentUser)]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,1),data=_ref3[0];setMyRoutines(data);});},[]);var showForm=function showForm(){if(open===false){setIsOpen(true);}else{setIsOpen(false);}};var useStyles=makeStyles(function(theme){return{container:{display:'flex',flexWrap:'wrap',position:'relative',margin:'10px'},formControl:{margin:theme.spacing(2),minWidth:120},textFields:{width:'350px',margin:theme.spacing(2)}};});var classes=useStyles();return/*#__PURE__*/_jsxs(\"div\",{className:\"routine-card\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome, \",currentUser,\"!\"]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Routines you've created:\"}),/*#__PURE__*/_jsx(Button,{className:classes.container,color:\"secondary\",variant:\"contained\",type:\"submit\",onClick:showForm,children:open?'Hide':'Create A New Routine'}),/*#__PURE__*/_jsx(RoutineForm,{setIsOpen:setIsOpen,currentUser:currentUser,setMyRoutines:setMyRoutines,open:open}),myRoutines?myRoutines.map(function(routine,index){return/*#__PURE__*/_jsx(MyRoutine,{currentUser:currentUser,setMyRoutines:setMyRoutines,creator:creator,setCreator:setCreator,routine:routine},index);}):/*#__PURE__*/_jsx(\"h1\",{children:\"Use the form above to start creating routines.\"})]});};export default MyRoutines;","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/components/MyRoutines.js"],"names":["React","useEffect","useState","fetchUsername","getCurrentToken","fetchUserRoutines","MyRoutine","Button","RoutineForm","makeStyles","MyRoutines","currentUser","myRoutines","setMyRoutines","creator","setCreator","open","setIsOpen","Promise","all","then","data","showForm","useStyles","theme","container","display","flexWrap","position","margin","formControl","spacing","minWidth","textFields","width","classes","map","routine","index"],"mappings":"mHAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,aAAT,CAAwBC,eAAxB,CAAyCC,iBAAzC,KAAkE,QAAlE,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,OAASC,UAAT,KAA2B,0BAA3B,C,wFAGA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAqB,IAAlBC,CAAAA,WAAkB,MAAlBA,WAAkB,eAEFT,QAAQ,CAAC,EAAD,CAFN,wCAE/BU,UAF+B,eAEnBC,aAFmB,8BAGRX,QAAQ,CAAC,EAAD,CAHA,yCAG/BY,OAH+B,eAGtBC,UAHsB,8BAIZb,QAAQ,CAAC,KAAD,CAJI,yCAI/Bc,IAJ+B,eAIzBC,SAJyB,eAMtChB,SAAS,CAAC,UAAM,CACdiB,OAAO,CAACC,GAAR,CAAY,CAACd,iBAAiB,CAACM,WAAD,CAAlB,CAAZ,EAA8CS,IAA9C,CAAmD,eAAY,mCAAVC,IAAU,UAC7DR,aAAa,CAACQ,IAAD,CAAb,CAAoB,CADtB,EAED,CAHQ,CAGN,EAHM,CAAT,CAOA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAIN,IAAI,GAAK,KAAb,CAAoB,CAClBC,SAAS,CAAC,IAAD,CAAT,CACD,CAFD,IAGK,CACHA,SAAS,CAAC,KAAD,CAAT,CACD,CACF,CAPD,CASA,GAAMM,CAAAA,SAAS,CAAGd,UAAU,CAAC,SAACe,KAAD,QAAY,CACvCC,SAAS,CAAE,CACTC,OAAO,CAAE,MADA,CAETC,QAAQ,CAAE,MAFD,CAGTC,QAAQ,CAAE,UAHD,CAITC,MAAM,CAAE,MAJC,CAD4B,CAOvCC,WAAW,CAAE,CACXD,MAAM,CAAEL,KAAK,CAACO,OAAN,CAAc,CAAd,CADG,CAEXC,QAAQ,CAAE,GAFC,CAP0B,CAWvCC,UAAU,CAAE,CACVC,KAAK,CAAE,OADG,CAEVL,MAAM,CAAEL,KAAK,CAACO,OAAN,CAAc,CAAd,CAFE,CAX2B,CAAZ,EAAD,CAA5B,CAiBA,GAAMI,CAAAA,OAAO,CAAGZ,SAAS,EAAzB,CAGA,mBACE,aAAK,SAAS,CAAC,cAAf,wBACE,kCAAcZ,WAAd,OADF,cAEE,gDAFF,cAGE,KAAC,MAAD,EACE,SAAS,CAAEwB,OAAO,CAACV,SADrB,CAEE,KAAK,CAAC,WAFR,CAGE,OAAO,CAAC,WAHV,CAIE,IAAI,CAAC,QAJP,CAKE,OAAO,CAAEH,QALX,UAKsBN,IAAI,CAAG,MAAH,CAAY,sBALtC,EAHF,cASE,KAAC,WAAD,EAAa,SAAS,CAAEC,SAAxB,CAAmC,WAAW,CAAEN,WAAhD,CAA6D,aAAa,CAAEE,aAA5E,CAA2F,IAAI,CAAEG,IAAjG,EATF,CAUGJ,UAAU,CAAGA,UAAU,CAACwB,GAAX,CAAe,SAACC,OAAD,CAAUC,KAAV,qBAC3B,KAAC,SAAD,EACE,WAAW,CAAE3B,WADf,CAEE,aAAa,CAAEE,aAFjB,CAGE,OAAO,CAAEC,OAHX,CAIE,UAAU,CAAEC,UAJd,CAME,OAAO,CAAEsB,OANX,EAKOC,KALP,CAD2B,EAAf,CAAH,cAQP,sEAlBN,GADF,CAsBD,CAhED,CAmEA,cAAe5B,CAAAA,UAAf","sourcesContent":["import React from 'react';\nimport { useEffect, useState } from 'react';\nimport { fetchUsername, getCurrentToken, fetchUserRoutines } from '../api';\nimport MyRoutine from './MyRoutine';\nimport Button from '@material-ui/core/Button';\nimport RoutineForm from './RoutineForm';\nimport { makeStyles } from '@material-ui/core/styles';\n\n\nconst MyRoutines = ({ currentUser }) => {\n\n  const [myRoutines, setMyRoutines] = useState([]);\n  const [creator, setCreator] = useState('');\n  const [open, setIsOpen] = useState(false);\n\n  useEffect(() => {\n    Promise.all([fetchUserRoutines(currentUser)]).then(([data]) => {\n      setMyRoutines(data)})\n  }, [])\n\n\n\n  const showForm = () => {\n    if (open === false) {\n      setIsOpen(true)\n    }\n    else {\n      setIsOpen(false)\n    }\n  }\n\n  const useStyles = makeStyles((theme) => ({\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap',\n      position: 'relative',\n      margin: '10px',\n    },\n    formControl: {\n      margin: theme.spacing(2),\n      minWidth: 120,\n    },\n    textFields: {\n      width: '350px',\n      margin: theme.spacing(2)\n    },\n  }));\n\n  const classes = useStyles();\n\n\n  return (\n    <div className='routine-card'>\n      <h1>Welcome, {currentUser}!</h1>\n      <h2>Routines you've created:</h2>\n      <Button\n        className={classes.container}\n        color=\"secondary\"\n        variant=\"contained\"\n        type=\"submit\"\n        onClick={showForm}>{open ? 'Hide' : 'Create A New Routine'}</Button>\n      <RoutineForm setIsOpen={setIsOpen} currentUser={currentUser} setMyRoutines={setMyRoutines} open={open} />\n      {myRoutines ? myRoutines.map((routine, index) =>\n        <MyRoutine\n          currentUser={currentUser}\n          setMyRoutines={setMyRoutines}\n          creator={creator}\n          setCreator={setCreator}\n          key={index}\n          routine={routine} />)\n        : <h1>Use the form above to start creating routines.</h1>}\n    </div>\n  )\n}\n\n\nexport default MyRoutines;"]},"metadata":{},"sourceType":"module"}