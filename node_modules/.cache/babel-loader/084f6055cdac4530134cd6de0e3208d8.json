{"ast":null,"code":"import { useEffect, useState } from \"react\";\nexport function storeLoginToken(token) {\n  localStorage.setItem('token', token);\n}\nexport function getCurrentToken() {\n  const token = localStorage.getItem('token');\n  return token;\n}\nexport function clearCurrentToken() {\n  localStorage.removeItem('token');\n}\nexport const fetchRoutines = async () => {\n  const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const data = await response.json();\n  return data;\n};\nexport async function fetchUserRoutines(username) {\n  const token = localStorage.getItem('token');\n\n  try {\n    const response = await fetch(`http://localhost:3000/api/users/${username}/routines`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\nexport const fetchActivities = async () => {\n  try {\n    const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/activities', {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\nexport const fetchUsername = async () => {\n  const token = localStorage.getItem('token');\n  const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/users/me', {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  const data = await response.json();\n  console.log(data);\n  return data;\n};\nexport const createRoutine = async ({\n  routineName,\n  routineGoal,\n  isPublic\n}) => {\n  const token = localStorage.getItem('token');\n  await fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      name: routineName,\n      goal: routineGoal,\n      isPublic: isPublic\n    })\n  }).then(response => response.json()).then(result => {\n    console.log(result);\n  }).catch(console.error);\n};","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/api/index.js"],"names":["useEffect","useState","storeLoginToken","token","localStorage","setItem","getCurrentToken","getItem","clearCurrentToken","removeItem","fetchRoutines","response","fetch","headers","data","json","fetchUserRoutines","username","error","fetchActivities","fetchUsername","console","log","createRoutine","routineName","routineGoal","isPublic","method","body","JSON","stringify","name","goal","then","result","catch"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport function storeLoginToken(token) {\n  localStorage.setItem('token', token);\n}\n\nexport function getCurrentToken() {\n  const token = localStorage.getItem('token');\n  return token;\n}\n\nexport function clearCurrentToken() {\n  localStorage.removeItem('token');\n}\n\n\nexport const fetchRoutines = async () => {\n  const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n  const data = await response.json();\n\n  return data;\n}\n\n\n\nexport async function fetchUserRoutines(username) {\n\n  const token = localStorage.getItem('token');\n\n  try {\n    const response = await fetch(`http://localhost:3000/api/users/${username}/routines`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n    });\n    const data = await response.json();\n\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\n\nexport const fetchActivities = async () => {\n\ntry {\n  const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/activities', {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  const data = await response.json();\n\n  return data;\n} catch (error) {\n  throw error;\n}\n}\n\n\nexport const fetchUsername = async () => {\n  const token = localStorage.getItem('token');\n\n  const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/users/me', {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    },\n  })\n  const data = await response.json();\n  console.log(data);\n\n  return data;\n}\n\n\n\nexport const createRoutine = async ({ routineName, routineGoal, isPublic }) => {\n  const token = localStorage.getItem('token');\n\n  await fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      name: routineName,\n      goal: routineGoal,\n      isPublic: isPublic\n    })\n  }).then(response => response.json())\n    .then(result => {\n      console.log(result);\n    })\n    .catch(console.error);\n}\n\n\n"]},"metadata":{},"sourceType":"module"}