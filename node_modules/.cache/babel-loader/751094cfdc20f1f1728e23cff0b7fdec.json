{"ast":null,"code":"import _regeneratorRuntime from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useEffect,useState}from\"react\";export function storeLoginToken(token){localStorage.setItem('token',token);}export function getCurrentToken(){var token=localStorage.getItem('token');return token;}export function clearCurrentToken(){localStorage.removeItem('token');}export var fetchRoutines=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://fitnesstrac-kr.herokuapp.com/api/routines',{headers:{'Content-Type':'application/json'}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchRoutines(){return _ref.apply(this,arguments);};}();export var fetchUserRoutines=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(username){var token,response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:token=localStorage.getItem('token');_context2.prev=1;_context2.next=4;return fetch(\"https://fitnesstrac-kr.herokuapp.com/api/users/\".concat(username,\"/routines\"),{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:data=_context2.sent;return _context2.abrupt(\"return\",data);case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](1);throw _context2.t0;case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[1,11]]);}));return function fetchUserRoutines(_x){return _ref2.apply(this,arguments);};}();export var fetchActivities=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch('https://fitnesstrac-kr.herokuapp.com/api/activities',{headers:{\"Content-Type\":\"application/json\"}});case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:data=_context3.sent;return _context3.abrupt(\"return\",data);case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);throw _context3.t0;case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10]]);}));return function fetchActivities(){return _ref3.apply(this,arguments);};}();export var fetchUsername=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var token,response,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:token=localStorage.getItem('token');_context4.next=3;return fetch('https://fitnesstrac-kr.herokuapp.com/api/users/me',{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});case 3:response=_context4.sent;_context4.next=6;return response.json();case 6:data=_context4.sent;console.log(data);return _context4.abrupt(\"return\",data);case 9:case\"end\":return _context4.stop();}}},_callee4);}));return function fetchUsername(){return _ref4.apply(this,arguments);};}();","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/api/index.js"],"names":["useEffect","useState","storeLoginToken","token","localStorage","setItem","getCurrentToken","getItem","clearCurrentToken","removeItem","fetchRoutines","fetch","headers","response","json","data","fetchUserRoutines","username","fetchActivities","fetchUsername","console","log"],"mappings":"mOAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CAEA,MAAO,SAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CACrCC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,KAA9B,EACD,CAED,MAAO,SAASG,CAAAA,eAAT,EAA2B,CAChC,GAAMH,CAAAA,KAAK,CAAGC,YAAY,CAACG,OAAb,CAAqB,OAArB,CAAd,CACA,MAAOJ,CAAAA,KAAP,CACD,CAED,MAAO,SAASK,CAAAA,iBAAT,EAA6B,CAClCJ,YAAY,CAACK,UAAb,CAAwB,OAAxB,EACD,CAGD,MAAO,IAAMC,CAAAA,aAAa,0FAAG,2KACJC,CAAAA,KAAK,CAAC,mDAAD,CAAsD,CAChFC,OAAO,CAAE,CACP,eAAgB,kBADT,CADuE,CAAtD,CADD,QACrBC,QADqB,qCAMRA,CAAAA,QAAQ,CAACC,IAAT,EANQ,QAMrBC,IANqB,+CAQpBA,IARoB,wDAAH,kBAAbL,CAAAA,aAAa,0CAAnB,CAaP,MAAO,IAAMM,CAAAA,iBAAiB,2FAAG,kBAAOC,QAAP,8IAEzBd,KAFyB,CAEjBC,YAAY,CAACG,OAAb,CAAqB,OAArB,CAFiB,yCAKNI,CAAAA,KAAK,0DAAmDM,QAAnD,cAAwE,CAClGL,OAAO,CAAE,CACP,eAAgB,kBADT,CAEP,iCAA2BT,KAA3B,CAFO,CADyF,CAAxE,CALC,QAKvBU,QALuB,uCAWVA,CAAAA,QAAQ,CAACC,IAAT,EAXU,QAWvBC,IAXuB,iDAatBA,IAbsB,yJAAH,kBAAjBC,CAAAA,iBAAiB,6CAAvB,CAoBP,MAAO,IAAME,CAAAA,eAAe,2FAAG,kMAGJP,CAAAA,KAAK,CAAC,qDAAD,CAAwD,CAClFC,OAAO,CAAE,CACP,eAAgB,kBADT,CADyE,CAAxD,CAHD,QAGrBC,QAHqB,uCASRA,CAAAA,QAAQ,CAACC,IAAT,EATQ,QASrBC,IATqB,iDAWpBA,IAXoB,yJAAH,kBAAfG,CAAAA,eAAe,2CAArB,CAkBP,MAAO,IAAMC,CAAAA,aAAa,2FAAG,gKACrBhB,KADqB,CACbC,YAAY,CAACG,OAAb,CAAqB,OAArB,CADa,wBAGJI,CAAAA,KAAK,CAAC,mDAAD,CAAsD,CAChFC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEP,iCAA2BT,KAA3B,CAFO,CADuE,CAAtD,CAHD,QAGrBU,QAHqB,uCASRA,CAAAA,QAAQ,CAACC,IAAT,EATQ,QASrBC,IATqB,gBAU3BK,OAAO,CAACC,GAAR,CAAYN,IAAZ,EAV2B,iCAYpBA,IAZoB,0DAAH,kBAAbI,CAAAA,aAAa,2CAAnB","sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport function storeLoginToken(token) {\n  localStorage.setItem('token', token);\n}\n\nexport function getCurrentToken() {\n  const token = localStorage.getItem('token');\n  return token;\n}\n\nexport function clearCurrentToken() {\n  localStorage.removeItem('token');\n}\n\n\nexport const fetchRoutines = async () => {\n  const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n  const data = await response.json();\n\n  return data;\n}\n\n\n\nexport const fetchUserRoutines = async (username) => {\n\n  const token = localStorage.getItem('token');\n\n  try {\n    const response = await fetch(`https://fitnesstrac-kr.herokuapp.com/api/users/${username}/routines`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n    });\n    const data = await response.json();\n\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\n\nexport const fetchActivities = async () => {\n\n  try {\n    const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/activities', {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    });\n\n    const data = await response.json();\n\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\n\nexport const fetchUsername = async () => {\n  const token = localStorage.getItem('token');\n\n  const response = await fetch('https://fitnesstrac-kr.herokuapp.com/api/users/me', {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    },\n  })\n  const data = await response.json();\n  console.log(data);\n\n  return data;\n}\n"]},"metadata":{},"sourceType":"module"}