{"ast":null,"code":"import _regeneratorRuntime from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/tradcliffe/fitness_tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Redirect}from'react-router-dom';import{storeLoginToken}from'../api';import'../components/register.css';import FormControl from'@material-ui/core/FormControl';import{makeStyles}from'@material-ui/core/styles';import Button from'@material-ui/core/Button';import OutlinedInput from'@material-ui/core/OutlinedInput';import TextField from'@material-ui/core/TextField';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(_ref){var username=_ref.username,password=_ref.password,confirmedPassword=_ref.confirmedPassword,setUsername=_ref.setUsername,setPassword=_ref.setPassword,setConfirmedPassword=_ref.setConfirmedPassword;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var registerUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(username,password){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://fitnesstrac-kr.herokuapp.com/api/users/register',{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({username:username,password:password})}).then(function(response){return response.json();}).then(function(result){console.log(result);var token=result.token;setToken(token);storeLoginToken(token);}).catch(console.error);case 2:case\"end\":return _context.stop();}}},_callee);}));return function registerUser(_x,_x2){return _ref2.apply(this,arguments);};}();if(token){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}var handleClick=function handleClick(event){if(password!==confirmedPassword){return alert('Passwords must match');}else{event.preventDefault();registerUser(username,password).then(function(data){});}};var useStyles=makeStyles(function(theme){return{container:{display:'flex',flexWrap:'wrap'},formControl:{margin:theme.spacing(2),minWidth:120},textFields:{width:'250px',margin:theme.spacing(2),marginTop:'5px'}};});var classes=useStyles();return/*#__PURE__*/_jsx(\"div\",{className:\"register-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"register-form\",onSubmit:handleClick,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create an Account\"}),/*#__PURE__*/_jsxs(FormControl,{variant:\"outlined\",className:classes.formControl,children:[/*#__PURE__*/_jsx(TextField,{className:classes.textFields,type:\"text\",value:username,variant:\"outlined\",InputLabelProps:{shrink:true},label:\"Username\",min:\"8\",max:\"20\",required:true,onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{className:classes.textFields,type:\"password\",value:password,variant:\"outlined\",InputLabelProps:{shrink:true},label:\"Password\",min:\"8\",max:\"20\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{className:classes.textFields,type:\"password\",value:confirmedPassword,variant:\"outlined\",InputLabelProps:{shrink:true},label:\"Confirm Password\",min:\"8\",max:\"20\",required:true,onChange:function onChange(e){return setConfirmedPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:\"register-button\",children:/*#__PURE__*/_jsx(Button,{size:\"large\",type:\"submit\",color:\"primary\",variant:\"contained\",children:\"Register\"})}),/*#__PURE__*/_jsx(\"a\",{className:\"register-link\",href:\"/login\",children:\"Already have an account? Sign in\"})]})]})});};export default Register;","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/components/Register.js"],"names":["React","useEffect","useState","Redirect","storeLoginToken","FormControl","makeStyles","Button","OutlinedInput","TextField","Register","username","password","confirmedPassword","setUsername","setPassword","setConfirmedPassword","token","setToken","registerUser","fetch","method","headers","body","JSON","stringify","then","response","json","result","console","log","catch","error","handleClick","event","alert","preventDefault","data","useStyles","theme","container","display","flexWrap","formControl","margin","spacing","minWidth","textFields","width","marginTop","classes","shrink","e","target","value"],"mappings":"sVAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,eAAT,KAAgC,QAAhC,CACA,MAAO,4BAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,C,wFAIA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAA+F,IAA3FC,CAAAA,QAA2F,MAA3FA,QAA2F,CAAjFC,QAAiF,MAAjFA,QAAiF,CAAvEC,iBAAuE,MAAvEA,iBAAuE,CAApDC,WAAoD,MAApDA,WAAoD,CAAvCC,WAAuC,MAAvCA,WAAuC,CAA1BC,oBAA0B,MAA1BA,oBAA0B,eAEpFd,QAAQ,CAAC,EAAD,CAF4E,wCAEvGe,KAFuG,eAEhGC,QAFgG,eAI5G,GAAMC,CAAAA,YAAY,2FAAG,iBAAOR,QAAP,CAAiBC,QAAjB,wIACbQ,CAAAA,KAAK,CAAC,wDAAD,CAA2D,CACpEC,MAAM,CAAE,MAD4D,CAEpEC,OAAO,CAAE,CACP,eAAgB,kBADT,CAF2D,CAKpEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBd,QAAQ,CAARA,QADmB,CAEnBC,QAAQ,CAARA,QAFmB,CAAf,CAL8D,CAA3D,CAAL,CASHc,IATG,CASE,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EATV,EAUHF,IAVG,CAUE,SAAAG,MAAM,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,GAAMZ,CAAAA,KAAK,CAAGY,MAAM,CAACZ,KAArB,CACAC,QAAQ,CAACD,KAAD,CAAR,CACAb,eAAe,CAACa,KAAD,CAAf,CACD,CAfG,EAgBHe,KAhBG,CAgBGF,OAAO,CAACG,KAhBX,CADa,uDAAH,kBAAZd,CAAAA,YAAY,iDAAlB,CAoBH,GAAGF,KAAH,CAAU,CACP,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAG,GAAf,EAAP,CAA8B,CAE9B,GAAMiB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC3B,GAAGvB,QAAQ,GAAKC,iBAAhB,CAAmC,CACjC,MAAOuB,CAAAA,KAAK,CAAC,sBAAD,CAAZ,CACD,CAFD,IAEO,CACPD,KAAK,CAACE,cAAN,GACAlB,YAAY,CAACR,QAAD,CAAWC,QAAX,CAAZ,CAAiCc,IAAjC,CAAsC,SAACY,IAAD,CAAU,CAC/C,CADD,EAEH,CACJ,CARG,CAUF,GAAMC,CAAAA,SAAS,CAAGjC,UAAU,CAAC,SAACkC,KAAD,QAAY,CACvCC,SAAS,CAAE,CACTC,OAAO,CAAE,MADA,CAETC,QAAQ,CAAE,MAFD,CAD4B,CAKvCC,WAAW,CAAE,CACXC,MAAM,CAAEL,KAAK,CAACM,OAAN,CAAc,CAAd,CADG,CAEXC,QAAQ,CAAE,GAFC,CAL0B,CASvCC,UAAU,CAAE,CACRC,KAAK,CAAE,OADC,CAERJ,MAAM,CAAEL,KAAK,CAACM,OAAN,CAAc,CAAd,CAFA,CAGRI,SAAS,CAAE,KAHH,CAT2B,CAAZ,EAAD,CAA5B,CAgBA,GAAMC,CAAAA,OAAO,CAAGZ,SAAS,EAAzB,CAIE,mBACI,YAAK,SAAS,CAAC,oBAAf,uBACA,cAAM,SAAS,CAAC,eAAhB,CAAgC,QAAQ,CAAEL,WAA1C,wBACI,yCADJ,cAEI,MAAC,WAAD,EAAa,OAAO,CAAC,UAArB,CAAiC,SAAS,CAAEiB,OAAO,CAACP,WAApD,wBAEQ,KAAC,SAAD,EAAW,SAAS,CAAEO,OAAO,CAACH,UAA9B,CACK,IAAI,CAAC,MADV,CAEK,KAAK,CAAErC,QAFZ,CAGK,OAAO,CAAC,UAHb,CAIK,eAAe,CAAE,CAChByC,MAAM,CAAE,IADQ,CAJtB,CAOK,KAAK,CAAC,UAPX,CAQK,GAAG,CAAC,GART,CAQa,GAAG,CAAC,IARjB,CAQsB,QAAQ,KAR9B,CASK,QAAQ,CAAE,kBAACC,CAAD,QAAOvC,CAAAA,WAAW,CAACuC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EATf,EAFR,cAcQ,KAAC,SAAD,EAAW,SAAS,CAAEJ,OAAO,CAACH,UAA9B,CACI,IAAI,CAAC,UADT,CAEI,KAAK,CAAEpC,QAFX,CAGI,OAAO,CAAC,UAHZ,CAII,eAAe,CAAE,CACfwC,MAAM,CAAE,IADO,CAJrB,CAOI,KAAK,CAAC,UAPV,CAQI,GAAG,CAAC,GARR,CAQY,GAAG,CAAC,IARhB,CAQqB,QAAQ,KAR7B,CASI,QAAQ,CAAE,kBAACC,CAAD,QAAOtC,CAAAA,WAAW,CAACsC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EATd,EAdR,cA0BQ,KAAC,SAAD,EAAW,SAAS,CAAEJ,OAAO,CAACH,UAA9B,CACG,IAAI,CAAC,UADR,CAEG,KAAK,CAAEnC,iBAFV,CAGG,OAAO,CAAC,UAHX,CAIG,eAAe,CAAE,CAChBuC,MAAM,CAAE,IADQ,CAJpB,CAOG,KAAK,CAAC,kBAPT,CAQG,GAAG,CAAC,GARP,CAQW,GAAG,CAAC,IARf,CAQoB,QAAQ,KAR5B,CASG,QAAQ,CAAE,kBAACC,CAAD,QAAOrC,CAAAA,oBAAoB,CAACqC,CAAC,CAACC,MAAF,CAASC,KAAV,CAA3B,EATb,EA1BR,cAqCI,YAAK,SAAS,CAAC,iBAAf,uBACA,KAAC,MAAD,EACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,QAFP,CAGE,KAAK,CAAC,SAHR,CAIE,OAAO,CAAC,WAJV,sBADA,EArCJ,cA+CE,UAAG,SAAS,CAAC,eAAb,CAA6B,IAAI,CAAC,QAAlC,8CA/CF,GAFJ,GADA,EADJ,CAwDD,CAjHH,CAoHA,cAAe7C,CAAAA,QAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { storeLoginToken } from '../api';\nimport '../components/register.css';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport TextField from '@material-ui/core/TextField';\n\n\n\nconst Register = ( { username, password, confirmedPassword, setUsername, setPassword, setConfirmedPassword}) => {\n\n  const [token, setToken] = useState('');\n\n    const registerUser = async (username, password) => {\n      await fetch('http://fitnesstrac-kr.herokuapp.com/api/users/register', {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          username,\n          password\n        })\n      }).then(response => response.json())\n        .then(result => {\n          console.log(result);\n          const token = result.token;\n          setToken(token);\n          storeLoginToken(token);\n        })\n        .catch(console.error);\n };\n\n if(token) {\n    return <Redirect to = '/' /> }\n\n    const handleClick = (event) => {\n        if(password !== confirmedPassword) {\n          return alert('Passwords must match')\n        } else {\n        event.preventDefault();\n        registerUser(username, password).then((data) => {\n        })\n    }\n};\n\n  const useStyles = makeStyles((theme) => ({\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap',\n    },\n    formControl: {\n      margin: theme.spacing(2),\n      minWidth: 120\n    },\n    textFields: {\n        width: '250px',\n        margin: theme.spacing(2),\n        marginTop: '5px'\n      },\n  }));\n\n  const classes = useStyles();\n\n\n    \n    return (\n        <div className=\"register-container\">\n        <form className=\"register-form\" onSubmit={handleClick}>\n            <h2>Create an Account</h2>\n            <FormControl variant=\"outlined\"  className={classes.formControl}>\n                \n                    <TextField className={classes.textFields}\n                         type='text' \n                         value={username}\n                         variant=\"outlined\"\n                         InputLabelProps={{\n                          shrink: true,\n                        }} \n                         label='Username' \n                         min='8' max='20' required \n                         onChange={(e) => setUsername(e.target.value) }\n                    />\n            \n                    <TextField className={classes.textFields}\n                        type='password' \n                        value={password}\n                        variant=\"outlined\"\n                        InputLabelProps={{\n                          shrink: true,\n                        }} \n                        label='Password' \n                        min='8' max='20' required \n                        onChange={(e) => setPassword(e.target.value) }\n                    />\n                  \n                    <TextField className={classes.textFields}\n                       type='password' \n                       value={confirmedPassword}\n                       variant=\"outlined\"\n                       InputLabelProps={{\n                        shrink: true,\n                      }} \n                       label='Confirm Password' \n                       min='8' max='20' required \n                       onChange={(e) => setConfirmedPassword(e.target.value) }\n                    />\n                <div className=\"register-button\">\n                <Button \n                  size='large'\n                  type='submit'\n                  color='primary'\n                  variant=\"contained\"\n                >Register</Button>\n               \n                </div> \n                \n              <a className='register-link' href='/login'>Already have an account? Sign in</a>\n              </FormControl>\n          </form>\n        </div>    \n      )\n  }\n\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}