{"ast":null,"code":"var _jsxFileName = \"/home/tradcliffe/fitness_tracker/src/components/RoutineForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport './style.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fetchUserRoutines } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RoutineForm = ({\n  setIsOpen,\n  open,\n  setMyRoutines,\n  currentUser\n}) => {\n  _s();\n\n  const [routineName, setRoutineName] = useState('');\n  const [routineGoal, setRoutineGoal] = useState('');\n  const [isPublic, setIsPublic] = useState(false);\n  const useStyles = makeStyles(theme => ({\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    formControl: {\n      margin: theme.spacing(2),\n      minWidth: 120\n    },\n    textFields: {\n      width: '300px',\n      margin: theme.spacing(1)\n    }\n  }));\n  const classes = useStyles();\n\n  const createRoutine = async ({\n    routineName,\n    routineGoal,\n    isPublic\n  }) => {\n    const token = localStorage.getItem('token');\n    await fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        name: routineName,\n        goal: routineGoal,\n        isPublic: isPublic\n      })\n    }).then(response => response.json()).then(result => {\n      console.log(result);\n\n      if (result.error) {\n        alert('Sorry, that routine already exists. Please try again.');\n      } else {\n        alert('Your routine has been created!');\n      }\n    }).catch(console.error);\n  };\n\n  if (open === true) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"routineform\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: async e => {\n          e.preventDefault();\n          createRoutine({\n            routineName,\n            routineGoal,\n            isPublic\n          });\n          const data = await fetchUserRoutines(currentUser);\n          setMyRoutines(data);\n          setRoutineName('');\n          setRoutineGoal('');\n          setIsPublic(false);\n          setIsOpen(false);\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          className: classes.textFields,\n          id: \"outlined-basic\",\n          label: \"Name\",\n          variant: \"outlined\",\n          size: \"small\",\n          required: true,\n          onChange: e => setRoutineName(e.target.value),\n          value: routineName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          className: classes.textFields,\n          id: \"outlined-basic\",\n          label: \"Goal\",\n          size: \"small\",\n          variant: \"outlined\",\n          required: true,\n          onChange: e => setRoutineGoal(e.target.value),\n          value: routineGoal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          className: classes.textFields,\n          children: \"Allow others to see? \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n          type: \"checkbox\",\n          size: \"small\",\n          value: isPublic,\n          color: \"primary\",\n          onClick: () => setIsPublic(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: classes.textFields,\n          color: \"primary\",\n          variant: \"contained\",\n          type: \"submit\",\n          children: \"Create Routine\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  } else return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 9\n  }, this);\n};\n\n_s(RoutineForm, \"xyXomnH6u0h0fbCXEo9dhl0Qaco=\", true);\n\n_c = RoutineForm;\nexport default RoutineForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"RoutineForm\");","map":{"version":3,"sources":["/home/tradcliffe/fitness_tracker/src/components/RoutineForm.js"],"names":["React","useState","Button","TextField","Checkbox","makeStyles","fetchUserRoutines","RoutineForm","setIsOpen","open","setMyRoutines","currentUser","routineName","setRoutineName","routineGoal","setRoutineGoal","isPublic","setIsPublic","useStyles","theme","container","display","flexWrap","formControl","margin","spacing","minWidth","textFields","width","classes","createRoutine","token","localStorage","getItem","fetch","method","headers","body","JSON","stringify","name","goal","then","response","json","result","console","log","error","alert","catch","e","preventDefault","data","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport './style.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fetchUserRoutines } from '../api';\n\n\nconst RoutineForm = ({setIsOpen, open, setMyRoutines, currentUser}) => {\n\n    const [routineName, setRoutineName] = useState('');\n    const [routineGoal, setRoutineGoal] = useState('');\n    const [isPublic, setIsPublic] = useState(false);\n\n\n    const useStyles = makeStyles((theme) => ({\n        container: {\n          display: 'flex',\n          flexWrap: 'wrap',\n        },\n        formControl: {\n          margin: theme.spacing(2),\n          minWidth: 120,\n        },\n        textFields: {\n            width: '300px',\n            margin: theme.spacing(1)\n          },\n      }));\n\n      const classes = useStyles();\n\n\n      \nconst createRoutine = async ({ routineName, routineGoal, isPublic }) => {\n  const token = localStorage.getItem('token');\n\n  await fetch('https://fitnesstrac-kr.herokuapp.com/api/routines', {\n    method: \"POST\",\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      name: routineName,\n      goal: routineGoal,\n      isPublic: isPublic\n    })\n  }).then(response => response.json())\n    .then(result => {\n      console.log(result);\n      if(result.error) {\n        alert('Sorry, that routine already exists. Please try again.')\n      } else {\n        alert('Your routine has been created!');\n      }\n    })\n    .catch(console.error);\n}\n\n\n\nif(open === true) {\n    return (\n      <div className='routineform'>\n        <form onSubmit={async (e) => {\n          e.preventDefault();\n          createRoutine({routineName, routineGoal, isPublic});\n          const data = await fetchUserRoutines(currentUser);\n          setMyRoutines(data);\n          setRoutineName('');\n          setRoutineGoal('');\n          setIsPublic(false);\n          setIsOpen(false);\n\n        }} >\n        <TextField \n          className={classes.textFields}\n          id=\"outlined-basic\" \n          label=\"Name\" \n          variant=\"outlined\" \n          size='small'\n          required onChange={(e) => setRoutineName(e.target.value)} \n          value={routineName}/>\n        <TextField \n         className={classes.textFields}\n          id=\"outlined-basic\" \n          label=\"Goal\" \n          size='small'\n          variant=\"outlined\" \n          required onChange={(e) => setRoutineGoal(e.target.value)} \n          value={routineGoal}/>\n          \n        <label className='label'\n        className={classes.textFields}>Allow others to see? </label>\n          <Checkbox\n            type='checkbox'\n            size='small' \n            value={isPublic}\n            color='primary' \n            onClick={() => setIsPublic(true)} />\n  \n          <Button className={classes.textFields}\n            color='primary'\n            variant=\"contained\"\n            type='submit'>Create Routine</Button>\n          </form>\n\n      </div>\n    )}\n    else return (\n        <div></div>\n    )\n  }\n\nexport default RoutineForm;"]},"metadata":{},"sourceType":"module"}